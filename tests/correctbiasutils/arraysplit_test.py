import pytest
import pyximport; pyximport.install()

from CRADLE.correctbiasutils.cython import arraySplit

@pytest.mark.parametrize("inputArray,numBins,result", [
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 0, [[1, 2, 3, 4, 5, 6, 7, 8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 1, [[1, 2, 3, 4, 5, 6, 7, 8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 2, [[1, 2, 3, 4], [5, 6, 7, 8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 3, [[1, 2, 3], [4, 5, 6], [7, 8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 4, [[1, 2], [3, 4], [5, 6], [7, 8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 5, [[1], [2, 3], [4, 5], [6, 7], [8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 6, [[1], [2], [3], [4, 5], [6, 7], [8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 7, [[1], [2], [3], [4], [5], [6, 7], [8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 8, [[1], [2], [3], [4], [5], [6], [7], [8, 9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 9, [[1], [2], [3], [4], [5], [6], [7], [8], [9]]),
	([1, 2, 3, 4, 5, 6, 7, 8, 9], 10, [[1], [2], [3], [4], [5], [6], [7], [8], [9]]),
])
def testArraySplit(inputArray, numBins, result):
	assert arraySplit(inputArray, numBins) == result
